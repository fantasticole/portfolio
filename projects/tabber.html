<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chrome Extension Project</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/portfolio.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="icon" href="../images/C4.png">
    <link href='http://fonts.googleapis.com/css?family=Italiana' rel='stylesheet' type='text/css'>
    <!-- glyphicon glyphicon-copyright-mark -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="bootstrap-overrides">
  	<nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html"><img src="../images/Csmall.png"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../">Home</a></li>
            <li><a href="../about.html">About</a></li>
            <li><a href="../contact.html">Contact</a></li>
            <li class="dropdown active">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Projects<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="./mismatch.html"><i class='fa fa-instagram'></i> Mismatch</a></li>
                <li><a href="./polish.html"><i class='fa fa-twitter'></i> Polish Picker</a></li>
                <li class="active"><a href="#"><i class='fa fa-chrome'></i> Tabber</a></li>
                <li><a href="./tictactoe.html"><i class='fa fa-gamepad'></i> Tic-Tac-Toe</a></li>
              </ul>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a class="gifme">Gif Me!</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="gifdiv"></div>
      <div class="jumbotron">
        <h1>Tabber Chrome Extension:</h1>
        <div class="links">
          <a href="https://github.com/fantasticole/Tabber" target="_blank"><i class='fa fa-github'></i> Code</a>
        </div>
        <p>The Tabber Chrome extension tracks when tabs are opened and closed and displays that information in a popup. The extension offers the user the option to view a D3.js graph, which opens in a new tab, to view hourly averages. The information is stored in Chrome's Local Storage and can be downloaded as a JSON or a TSV from the popup.</p>
          <div class="tabber">
            <img class="narrow" src="../images/tabber.png" title="Extension Popup">
            <img class="wide" src="../images/graph.png" title="D3.js Graph">
            <p style="font-size: 1em;">[<span style="color: #DEC1FF;">Purple</span>: Tab Opens, <span style="color: #60E1E0;">Blue</span>: Tab Closes]</p>
          </div>
        </br>
        <div class="panel-group" id="accordion">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne"><i class='fa fa-play down'></i> <b>CHALLENGE</b>: Store and format tab open and close data to be displayed in a D3 graph.</a>
              </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse in">
              <div class="panel-body">
                <b>SOLUTION</b>: Whenever a tab is opened or closed, the extension's background.js file creates an object with three keys: 'Date', 'Opened' and 'Closed'. The 'Date' key gets a timestamp as its value. If a tab was opened, the value of 'Opened' is set to <span class="code">1</span> and 'Closed' is set to <span class="code">0</span>, with the reverse happening when a tab closes. This object is pushed to the 'Hourly' array, which is kept in Chrome's Local Storage. This array is used to find the average hourly opens and closes for the D3 graph.
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo"><i class='fa fa-play'></i> <b>CHALLENGE</b>: Keep data through extension reloads.</a>
              </h4>
            </div>
            <div id="collapseTwo" class="panel-collapse collapse">
              <div class="panel-body">
                <b>SOLUTION</b>: Throughout its creation, I had to reboot the extension many times. Whenever I did, the data I had stored in Chrome's Local Storage would be wiped. As I was watching my data during the refresh, I noticed that the previous information would only disappear once new data would overwrite it. This led me to my solution: 
                </br>
                  <div class="well well-sm">if (getStorage('hourly') !== undefined){
                    </br><span class="tab">hourly = getStorage('hourly');</span>
                    </br>};
                  </div>
                </br>This if statement allowed me to set the variable equal to what it was before the extension refreshed, keeping the data through each new update.
              </div>
            </div>
          </div>
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree"><i class='fa fa-play'></i> <b>CHALLENGE</b>: Make the collected data downloadable.</a>
              </h4>
            </div>
            <div id="collapseThree" class="panel-collapse collapse">
              <div class="panel-body">
                <b>SOLUTION</b>: I decided to make the collected data available for download as both a JSON file and a TSV file. The JSON gives more data, including every time a tab was opened of closed since the extensions started running, while the TSV gives the hourly averages that get graphed. When the user clicks one of the buttons to download data, a call is made to Local Storage to get either the data stored in 'tracker' (for the JSON) or the data stored in 'hourly' (for the TSV). This information can be analyzed by the user for whichever purpose they are curious about.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../js/jQuery.js"></script>
    <script src="../js/portfolio.js"></script>
    <script src="../js/interface.js"></script>
    <script src="../js/bootstrap.min.js"></script>
  </body>
</html>